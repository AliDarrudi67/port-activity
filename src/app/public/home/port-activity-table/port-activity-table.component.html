<mat-card class="p-6">
    <div class="flex justify-between items-center mb-4">
        <h2 class="text-lg font-bold">Port Activity</h2>
        <button mat-raised-button color="primary" (click)="addNewEvent()">Add New</button>
    </div>

    <table mat-table [dataSource]="events" class="w-full mat-elevation-z2 text-sm">

        <!-- Day -->
        <ng-container matColumnDef="day">
            <th mat-header-cell *matHeaderCellDef> Day </th>
            <td mat-cell *matCellDef="let event"> {{event.day}} </td>
        </ng-container>

        <!-- Activity Type -->
        <ng-container matColumnDef="activityType">
            <th mat-header-cell *matHeaderCellDef> Activity Type </th>
            <td mat-cell *matCellDef="let event">
                <mat-select [(value)]="event.activityType">
                    <mat-option *ngFor="let type of activityTypes" [value]="type">
                        {{type}}
                    </mat-option>
                </mat-select>
            </td>
        </ng-container>

        <!-- From Date & Time -->
        <ng-container matColumnDef="fromDateTime">
            <th mat-header-cell *matHeaderCellDef> From Date & Time </th>
            <td mat-cell *matCellDef="let event">
                <input type="datetime-local" [value]="formatDateForInput(event.fromDateTime)"
                    (change)="onFromDateChange($event, event)" class="border px-2 py-1 rounded" />

            </td>
        </ng-container>

        <!-- Duration -->
        <ng-container matColumnDef="duration">
            <th mat-header-cell *matHeaderCellDef> Duration (hrs) </th>
            <td mat-cell *matCellDef="let event">
                {{event.duration}}
            </td>
        </ng-container>

        <!-- % -->
        <ng-container matColumnDef="percent">
            <th mat-header-cell *matHeaderCellDef> % </th>
            <td mat-cell *matCellDef="let event">
                <mat-select [(value)]="event.percent" (selectionChange)="onPercentChange(event)">
                    <mat-option *ngFor="let p of percentOptions" [value]="p">
                        {{p}}%
                    </mat-option>
                </mat-select>
            </td>
        </ng-container>

        <!-- To Date Time -->
        <ng-container matColumnDef="toDateTime">
            <th mat-header-cell *matHeaderCellDef> To Date Time </th>
            <td mat-cell *matCellDef="let event">
                {{event.toDateTime | date:'yyyy-MM-dd HH:mm'}}
            </td>
        </ng-container>

        <!-- Remarks -->
        <ng-container matColumnDef="remarks">
            <th mat-header-cell *matHeaderCellDef> Remarks </th>
            <td mat-cell *matCellDef="let event">
                <input type="text" [(ngModel)]="event.remarks" />
            </td>
        </ng-container>

        <!-- Deductions -->
        <ng-container matColumnDef="deductions">
            <th mat-header-cell *matHeaderCellDef> Deductions (hrs) </th>
            <td mat-cell *matCellDef="let event">
                {{event.deductions}}
            </td>
        </ng-container>

        <!-- Actions -->
        <ng-container matColumnDef="actions">
            <th mat-header-cell *matHeaderCellDef> Actions </th>
            <td mat-cell *matCellDef="let event">
                <div class="flex gap-1">
                    <button class="yellow-button" (click)="deleteEvent(event)">
                        Delete
                    </button>

                    <button *ngIf="events.indexOf(event) !== 0" class="blue-button" (click)="cloneEvent(event)">
                        Copy
                    </button>

                    <button *ngIf="event.showAdjustIcon" class="red-button" (click)="adjustEventPosition(event)"
                        title="Adjust position">
                        Sync
                    </button>
                </div>
            </td>
        </ng-container>
        4. نکته درباره Duration

        <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
        <tr mat-row *matRowDef="let row; columns: displayedColumns" [ngClass]="{'bg-error-important': row.hasOrderError}">
        </tr>
    </table>
</mat-card>